<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dawn of War Builds - Complete Dota 2 Heroes</title>
    <link rel="icon" type="image/x-icon" href="./assets/favicon/favicon-32x32.png">
    <link rel="stylesheet" href="./styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        /* Custom CSS tambahan */
        .images {
            max-width: 45%;
            height: auto;
            border: 3px solid #4a4a4a;
            margin: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
        }
        
        .images:hover {
            transform: scale(1.02);
            border-color: #ffc107;
        }
        
        .hero-container {
            background: rgba(30, 30, 40, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            border-left: 5px solid #ffc107;
        }
        
        .multiselect-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
            background-color: #2d3748;
        }
        
        .multiselect-container option {
            padding: 8px;
            margin: 2px 0;
            border-radius: 3px;
            cursor: pointer;
        }
        
        .multiselect-container option:hover {
            background-color: #4a5568;
        }
        
        .multiselect-container option:checked {
            background-color: #3182ce;
            color: white;
        }
        
        .title {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin: 20px 0;
            padding: 10px;
            background: linear-gradient(90deg, #1a202c, #2d3748);
            border-radius: 10px;
        }
        
        #selectedHeroesImages {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        /* Styles untuk komentar section */
        .comments-section {
            background: rgba(30, 30, 40, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            margin-bottom: 40px;
            border-left: 5px solid #ffc107;
        }
        
        .comment-card {
            background: rgba(45, 55, 72, 0.9);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 3px solid #3182ce;
            transition: transform 0.2s ease;
        }
        
        .comment-card:hover {
            transform: translateX(5px);
            background: rgba(50, 60, 77, 0.95);
        }
        
        .comment-author {
            color: #ffc107;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .comment-date {
            color: #a0aec0;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }
        
        .comment-content {
            color: #e2e8f0;
            line-height: 1.6;
        }
        
        .owner-badge {
            background-color: #ffc107;
            color: #1a202c;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .comment-form {
            background: rgba(45, 55, 72, 0.9);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .no-comments {
            text-align: center;
            color: #a0aec0;
            padding: 40px;
            font-style: italic;
        }
        
        /* Styles untuk tab Plan */
        .plan-tab {
            display: none;
            background: rgba(30, 30, 40, 0.8);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border-left: 5px solid #3182ce;
        }
        
        .plan-tab.active {
            display: block;
        }
        
        .plan-list {
            background: rgba(45, 55, 72, 0.9);
            border-radius: 10px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .plan-item {
            background: rgba(30, 30, 40, 0.8);
            padding: 10px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }
        
        .plan-item:hover {
            background: rgba(40, 50, 67, 0.9);
            border-left: 3px solid #ffc107;
            transform: translateX(5px);
        }
        
        .plan-item.active {
            background: rgba(50, 60, 77, 0.95);
            border-left: 3px solid #3182ce;
        }
        
        .plan-content {
            background: rgba(45, 55, 72, 0.9);
            border-radius: 10px;
            padding: 20px;
            min-height: 200px;
        }
        
        .plan-content h5 {
            color: #ffc107;
            margin-bottom: 15px;
        }
        
        .nav-tabs {
            border-bottom: 2px solid #444;
            margin-bottom: 20px;
        }
        
        .nav-tabs .nav-link {
            color: #a0aec0;
            background-color: transparent;
            border: none;
            padding: 10px 20px;
            margin-right: 5px;
            border-radius: 8px 8px 0 0;
        }
        
        .nav-tabs .nav-link:hover {
            color: #e2e8f0;
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .nav-tabs .nav-link.active {
            color: #ffc107;
            background-color: rgba(30, 30, 40, 0.8);
            border: none;
            border-bottom: 3px solid #ffc107;
        }
        
        @media (max-width: 768px) {
            .images {
                max-width: 100%;
                display: block;
                margin: 10px auto;
            }
            
            .multiselect-container {
                max-height: 300px;
            }
            
            .comments-section {
                padding: 20px;
            }
            
            .comment-form {
                padding: 15px;
            }
            
            .nav-tabs .nav-link {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); min-height: 100vh;">
    <header>
        <nav class="navbar navbar-expand-sm sticky-top" style="background: linear-gradient(90deg, #1a202c 0%, #2d3748 100%);">
            <div class="container-fluid">
                <a class="navbar-brand text-warning fw-bold" href="#">
                    <img src="./assets/favicon/favicon-32x32.png" alt="Logo" class="d-inline-block align-text-top me-2">
                    Dawn of War Builds
                </a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="#" id="homeTab" onclick="switchTab('home')" aria-current="page">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" id="planTab" onclick="switchTab('plan')">Plan</a>
                        </li>
                    </ul>
                </div>
                <div class="d-flex">
                    <a class="nav-link me-3 btn btn-outline-warning" href="https://t.me/DOWdota2" target="_blank"> 
                        Telegram
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <main role="main">
        <div class="container container-main py-4">
            <!-- Home Tab Content -->
            <div id="homeContent" class="content-tab active">
                <h2 class="text-center text-warning title">DAWN OF WAR BUILDS</h2>
                <p class="text-center text-white-50 mb-4">Select Dota 2 heroes to view their recommended builds. Currently showing all 126 heroes.</p>
                
                <div class="row mb-4">
                    <div class="col-md-8">
                        <div class="input-group">
                            <input type="text" class="form-control" id="searchInput" placeholder="Search heroes by name..." aria-label="Search heroes">
                            <button class="btn btn-warning" type="button" onclick="filterHeroes()">
                                Search
                            </button>
                        </div>
                    </div>
                    <div class="col-md-4 mt-2 mt-md-0">
                        <button class="btn btn-outline-warning w-100" onclick="toggleSelectedHeroes()" type="button" id="toggleBtn" disabled>
                            <span id="toggleText">Show Selections</span>
                        </button>
                    </div>
                </div>
                
                <div class="d-flex justify-content-between mb-3">
                    <div>
                        <p class="btn btn-outline-danger btn-sm" onclick="clearAllSelections()">
                            <img src="./assets/cancel.png" alt="Clear" style="width: 20px; vertical-align: middle;">
                            Clear All Selections
                        </p>
                    </div>
                    <div class="text-white">
                        Selected: <span id="selectedCount">0</span> heroes
                    </div>
                </div>
                
                <div class="mb-4">
                    <label for="heroMultiSelect" class="form-label text-white">Select Heroes (Hold Ctrl/Cmd to select multiple):</label>
                    <div class="multiselect-container">
                        <!-- Daftar 126 Hero Dota 2 Lengkap - DIURUTKAN SESUAI ABJAD -->
                        <select id="heroMultiSelect" multiple class="form-select" size="15">
                            <option value="abaddon">Abaddon</option>
                            <option value="alchemist">Alchemist</option>
                            <option value="ancient-apparition">Ancient Apparition</option>
                            <option value="anti-mage">Anti-Mage</option>
                            <option value="arc-warden">Arc Warden</option>
                            <option value="aurora">Aurora</option>
                            <option value="axe">Axe</option>
                            <option value="bane">Bane</option>
                            <option value="batrider">Batrider</option>
                            <option value="beastmaster">Beastmaster</option>
                            <option value="bloodseeker">Bloodseeker</option>
                            <option value="bounty-hunter">Bounty Hunter</option>
                            <option value="brewmaster">Brewmaster</option>
                            <option value="bristleback">Bristleback</option>
                            <option value="broodmother">Broodmother</option>
                            <option value="centaur-warrunner">Centaur Warrunner</option>
                            <option value="chaos-knight">Chaos Knight</option>
                            <option value="chen">Chen</option>
                            <option value="clinkz">Clinkz</option>
                            <option value="clockwerk">Clockwerk</option>
                            <option value="crystal-maiden">Crystal Maiden</option>
                            <option value="dark-seer">Dark Seer</option>
                            <option value="dark-willow">Dark Willow</option>
                            <option value="dawnbreaker">Dawnbreaker</option>
                            <option value="dazzle">Dazzle</option>
                            <option value="death-prophet">Death Prophet</option>
                            <option value="disruptor">Disruptor</option>
                            <option value="doom">Doom</option>
                            <option value="dragon-knight">Dragon Knight</option>
                            <option value="drow-ranger">Drow Ranger</option>
                            <option value="earth-spirit">Earth Spirit</option>
                            <option value="earthshaker">Earthshaker</option>
                            <option value="elder-titan">Elder Titan</option>
                            <option value="ember-spirit">Ember Spirit</option>
                            <option value="enchantress">Enchantress</option>
                            <option value="enigma">Enigma</option>
                            <option value="faceless-void">Faceless Void</option>
                            <option value="grimstroke">Grimstroke</option>
                            <option value="gyrocopter">Gyrocopter</option>
                            <option value="hoodwink">Hoodwink</option>
                            <option value="huskar">Huskar</option>
                            <option value="invoker">Invoker</option>
                            <option value="io">Io</option>
                            <option value="jakiro">Jakiro</option>
                            <option value="juggernaut">Juggernaut</option>
                            <option value="keeper-of-the-light">Keeper of the Light</option>
                            <option value="kunkka">Kunkka</option>
                            <option value="legion-commander">Legion Commander</option>
                            <option value="leshrac">Leshrac</option>
                            <option value="lich">Lich</option>
                            <option value="lifestealer">Lifestealer</option>
                            <option value="lina">Lina</option>
                            <option value="lion">Lion</option>
                            <option value="lone-druid">Lone Druid</option>
                            <option value="luna">Luna</option>
                            <option value="lycan">Lycan</option>
                            <option value="magnus">Magnus</option>
                            <option value="marci">Marci</option>
                            <option value="mars">Mars</option>
                            <option value="medusa">Medusa</option>
                            <option value="meepo">Meepo</option>
                            <option value="mirana">Mirana</option>
                            <option value="monkey-king">Monkey King</option>
                            <option value="morphling">Morphling</option>
                            <option value="muerta">Muerta</option>
                            <option value="naga-siren">Naga Siren</option>
                            <option value="natures-prophet">Nature's Prophet</option>
                            <option value="necrophos">Necrophos</option>
                            <option value="night-stalker">Night Stalker</option>
                            <option value="nyx-assassin">Nyx Assassin</option>
                            <option value="ogre-magi">Ogre Magi</option>
                            <option value="omniknight">Omniknight</option>
                            <option value="oracle">Oracle</option>
                            <option value="outworld-destroyer">Outworld Destroyer</option>
                            <option value="pangolier">Pangolier</option>
                            <option value="phantom-assassin">Phantom Assassin</option>
                            <option value="phantom-lancer">Phantom Lancer</option>
                            <option value="phoenix">Phoenix</option>
                            <option value="puck">Puck</option>
                            <option value="pudge">Pudge</option>
                            <option value="pugna">Pugna</option>
                            <option value="queen-of-pain">Queen of Pain</option>
                            <option value="razor">Razor</option>
                            <option value="riki">Riki</option>
                            <option value="ring-master">Ring Master</option>
                            <option value="rubick">Rubick</option>
                            <option value="sand-king">Sand King</option>
                            <option value="shadow-demon">Shadow Demon</option>
                            <option value="shadow-fiend">Shadow Fiend</option>
                            <option value="shadow-shaman">Shadow Shaman</option>
                            <option value="silencer">Silencer</option>
                            <option value="skywrath-mage">Skywrath Mage</option>
                            <option value="slardar">Slardar</option>
                            <option value="slark">Slark</option>
                            <option value="snapfire">Snapfire</option>
                            <option value="sniper">Sniper</option>
                            <option value="spectre">Spectre</option>
                            <option value="spirit-breaker">Spirit Breaker</option>
                            <option value="storm-spirit">Storm Spirit</option>
                            <option value="sven">Sven</option>
                            <option value="techies">Techies</option>
                            <option value="templar-assassin">Templar Assassin</option>
                            <option value="terrorblade">Terrorblade</option>
                            <option value="tidehunter">Tidehunter</option>
                            <option value="timbersaw">Timbersaw</option>
                            <option value="tinker">Tinker</option>
                            <option value="tiny">Tiny</option>
                            <option value="treant-protector">Treant Protector</option>
                            <option value="troll-warlord">Troll Warlord</option>
                            <option value="tusk">Tusk</option>
                            <option value="underlord">Underlord</option>
                            <option value="undying">Undying</option>
                            <option value="ursa">Ursa</option>
                            <option value="vengeful-spirit">Vengeful Spirit</option>
                            <option value="venomancer">Venomancer</option>
                            <option value="viper">Viper</option>
                            <option value="visage">Visage</option>
                            <option value="void-spirit">Void Spirit</option>
                            <option value="warlock">Warlock</option>
                            <option value="weaver">Weaver</option>
                            <option value="windranger">Windranger</option>
                            <option value="winter-wyvern">Winter Wyvern</option>
                            <option value="witch-doctor">Witch Doctor</option>
                            <option value="wraith-king">Wraith King</option>
                            <option value="zeus">Zeus</option>
                        </select>
                    </div>
                </div>
                
                <!-- Area untuk menampilkan gambar hero yang dipilih -->
                <div id="selectedHeroesImages" style="display: none;">
                    <h3 class="text-warning text-center mb-4">Selected Heroes Builds</h3>
                    <div id="heroesDisplayArea"></div>
                </div>
                
                <!-- Section Komentar -->
                <div class="comments-section">
                    <h3 class="text-warning mb-4">Comments Section</h3>
                    <p class="text-white-50 mb-4">Share your thoughts, suggestions, or discuss hero builds with other Dota 2 players!</p>
                    
                    <!-- Form untuk menambah komentar -->
                    <div class="comment-form">
                        <h5 class="text-white mb-3">Add Your Comment</h5>
                        <form id="commentForm">
                            <div class="mb-3">
                                <label for="commentName" class="form-label text-white">Name:</label>
                                <input type="text" class="form-control" id="commentName" placeholder="Enter your name" required>
                            </div>
                            <div class="mb-3">
                                <label for="commentContent" class="form-label text-white">Comment:</label>
                                <textarea class="form-control" id="commentContent" rows="4" placeholder="Type your comment here..." required></textarea>
                            </div>
                            <div class="d-flex justify-content-between">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="markAsOwner">
                                    <label class="form-check-label text-white-50" for="markAsOwner">
                                        Mark as site owner
                                    </label>
                                </div>
                                <button type="submit" class="btn btn-warning">Submit Comment</button>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Area untuk menampilkan komentar -->
                    <div id="commentsDisplayArea">
                        <h5 class="text-white mb-3">Recent Comments</h5>
                        <!-- Komentar akan ditampilkan di sini -->
                        <div id="commentsList" class="no-comments">
                            No comments yet. Be the first to comment!
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Plan Tab Content -->
            <div id="planContent" class="content-tab">
                <h2 class="text-center text-warning title">SAVED PLANS</h2>
                <p class="text-center text-white-50 mb-4">Manage and organize your hero combinations into plans for easy access.</p>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="plan-list">
                            <h5 class="text-white mb-3">Saved Plans</h5>
                            <div id="plansList">
                                <!-- Plans akan ditambahkan secara dinamis -->
                                <div class="plan-item active" onclick="selectPlan(0)">
                                    Plan 1
                                </div>
                                <div class="plan-item" onclick="selectPlan(1)">
                                    Plan 2
                                </div>
                                <div class="plan-item" onclick="selectPlan(2)">
                                    Plan 3
                                </div>
                                <div class="plan-item" onclick="selectPlan(3)">
                                    Plan 4
                                </div>
                                <div class="plan-item" onclick="selectPlan(4)">
                                    Plan 5
                                </div>
                            </div>
                            <button class="btn btn-outline-warning w-100 mt-3" onclick="addNewPlan()">
                                + Add New Plan
                            </button>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="plan-content">
                            <h5 id="currentPlanTitle">Plan 1</h5>
                            <div id="planDetails">
                                <p class="text-white-50">Select heroes from the Home tab and save them to this plan.</p>
                                <div id="planHeroes" class="mb-3">
                                    <!-- Hero yang disimpan akan muncul di sini -->
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn btn-warning" onclick="saveCurrentSelection()" id="savePlanBtn">
                                        Save Current Selection
                                    </button>
                                    <button class="btn btn-outline-danger" onclick="clearPlan()" id="clearPlanBtn">
                                        Clear Plan
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section untuk melihat saved heroes dalam plan -->
                        <div id="planHeroesDisplay" class="mt-4" style="display: none;">
                            <h5 class="text-white mb-3">Plan Heroes</h5>
                            <div id="planHeroesImages"></div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </main>

    <footer>
        <div class="container-fluid d-flex justify-content-center py-3 footer" style="background: linear-gradient(90deg, #0f172a 0%, #1e293b 100%);">
            <p class="text-white pt-2 mb-0">Â©2025 Copyright Newbie Gang | Dota 2 is a registered trademark of Valve Corporation</p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Fungsi untuk menampilkan gambar hero yang dipilih
        $(document).ready(function () {
            // Inisialisasi count
            updateSelectedCount();
            
            // Event listener untuk perubahan seleksi
            $("#heroMultiSelect").on("change", function () {
                updateSelectedCount();
                updateSelectedHeroes();
                updateToggleButton();
            });
            
            // Event listener untuk search input
            $("#searchInput").on("keyup", function() {
                filterHeroes();
            });
            
            // Load komentar dari localStorage saat halaman dimuat
            loadComments();
            
            // Event listener untuk form komentar
            $("#commentForm").submit(function(event) {
                event.preventDefault();
                addComment();
            });
            
            // Load plans dari localStorage
            loadPlans();
        });
        
        // Fungsi untuk update count
        function updateSelectedCount() {
            var selectedCount = $("#heroMultiSelect option:selected").length;
            $("#selectedCount").text(selectedCount);
        }
        
        // Fungsi untuk update toggle button state
        function updateToggleButton() {
            var hasSelection = $("#heroMultiSelect option:selected").length > 0;
            $("#toggleBtn").prop("disabled", !hasSelection);
        }
        
        // Fungsi utama untuk menampilkan hero yang dipilih
        function updateSelectedHeroes() {
            var selectedHeroes = $("#heroMultiSelect option:selected");
            var selectedImagesHtml = "";
            
            if (selectedHeroes.length === 0) {
                selectedImagesHtml = '<div class="alert alert-warning text-center">No heroes selected. Please select heroes from the list above.</div>';
            } else {
                selectedHeroes.each(function () {
                    var heroName = $(this).text();
                    var heroValue = $(this).val();
                    
                    selectedImagesHtml += 
                        '<div class="hero-container">' +
                        '<h4 class="text-white text-center mb-3">' + heroName + '</h4>' + 
                        '<div class="text-center">' +
                        '<img class="rounded images" src="./assets/img/' + heroValue + '_1.png" alt="' + heroName + ' build 1" onerror="this.src=\'./assets/placeholder.png\'"> ' + 
                        '<img class="rounded images" src="./assets/img/' + heroValue + '_2.png" alt="' + heroName + ' build 2" onerror="this.src=\'./assets/placeholder.png\'"> ' +
                        '</div>' +
                        '</div>';
                });
            }
            
            $("#heroesDisplayArea").html(selectedImagesHtml);
        }
        
        // Fungsi untuk toggle tampilan
        function toggleSelectedHeroes() {
            var imagesDiv = document.getElementById('selectedHeroesImages');
            var toggleText = document.getElementById('toggleText');
            
            if (imagesDiv.style.display === 'none' || imagesDiv.style.display === '') {
                imagesDiv.style.display = 'block';
                toggleText.textContent = 'Hide Selections';
                // Scroll ke bagian gambar
                imagesDiv.scrollIntoView({ behavior: 'smooth' });
            } else {
                imagesDiv.style.display = 'none';
                toggleText.textContent = 'Show Selections';
            }
        }
        
        // Fungsi untuk clear all selections
        function clearAllSelections() {
            $('#heroMultiSelect option:selected').prop('selected', false);
            $('#selectedHeroesImages').hide();
            $('#toggleText').text('Show Selections');
            updateSelectedCount();
            updateSelectedHeroes();
            updateToggleButton();
        }
        
        // Fungsi untuk filter heroes
        function filterHeroes() {
            var value = $('#searchInput').val().toLowerCase();
            $('#heroMultiSelect option').each(function() {
                var text = $(this).text().toLowerCase();
                $(this).toggle(text.indexOf(value) > -1);
            });
        }
        
        // ========== FUNGSI UNTUK SISTEM KOMENTAR ==========
        
        // Fungsi untuk menambah komentar baru
        function addComment() {
            var name = $("#commentName").val().trim();
            var content = $("#commentContent").val().trim();
            var isOwner = $("#markAsOwner").is(":checked");
            
            if (!name || !content) {
                alert("Please fill in both name and comment fields!");
                return;
            }
            
            // Buat objek komentar
            var comment = {
                id: Date.now(), // ID unik berdasarkan timestamp
                name: name,
                content: content,
                isOwner: isOwner,
                date: new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };
            
            // Ambil komentar yang sudah ada dari localStorage
            var comments = JSON.parse(localStorage.getItem('dowComments')) || [];
            
            // Tambahkan komentar baru ke awal array
            comments.unshift(comment);
            
            // Simpan kembali ke localStorage (maksimal 50 komentar)
            if (comments.length > 50) {
                comments = comments.slice(0, 50);
            }
            localStorage.setItem('dowComments', JSON.stringify(comments));
            
            // Reset form
            $("#commentForm")[0].reset();
            
            // Tampilkan komentar
            displayComments(comments);
            
            // Scroll ke komentar terbaru
            document.querySelector('.comments-section').scrollIntoView({ behavior: 'smooth' });
            
            alert("Thank you for your comment!");
        }
        
        // Fungsi untuk memuat komentar dari localStorage
        function loadComments() {
            var comments = JSON.parse(localStorage.getItem('dowComments')) || [];
            displayComments(comments);
        }
        
        // Fungsi untuk menampilkan komentar
        function displayComments(comments) {
            var commentsList = $("#commentsList");
            
            if (comments.length === 0) {
                commentsList.html('<div class="no-comments">No comments yet. Be the first to comment!</div>');
                return;
            }
            
            var commentsHtml = '';
            
            comments.forEach(function(comment) {
                var ownerBadge = comment.isOwner ? '<span class="owner-badge">Site Owner</span>' : '';
                
                commentsHtml += 
                    '<div class="comment-card">' +
                    '<div class="comment-author">' + 
                    comment.name + 
                    ownerBadge +
                    '</div>' +
                    '<div class="comment-date">' + comment.date + '</div>' +
                    '<div class="comment-content">' + comment.content.replace(/\n/g, '<br>') + '</div>' +
                    '</div>';
            });
            
            commentsList.html(commentsHtml);
        }
        
        // ========== FUNGSI UNTUK TAB SYSTEM ==========
        
        // Fungsi untuk switch tab
        function switchTab(tabName) {
            // Hide semua tab content
            $('.content-tab').removeClass('active');
            
            // Update navbar links
            $('.navbar-nav .nav-link').removeClass('active');
            
            // Show selected tab content
            if (tabName === 'home') {
                $('#homeContent').addClass('active');
                $('#homeTab').addClass('active');
            } else if (tabName === 'plan') {
                $('#planContent').addClass('active');
                $('#planTab').addClass('active');
            }
        }
        
        // ========== FUNGSI UNTUK PLAN SYSTEM ==========
        
        let currentPlanIndex = 0;
        let plans = [
            { name: "Plan 1", heroes: [] },
            { name: "Plan 2", heroes: [] },
            { name: "Plan 3", heroes: [] },
            { name: "Plan 4", heroes: [] },
            { name: "Plan 5", heroes: [] }
        ];
        
        // Fungsi untuk load plans dari localStorage
        function loadPlans() {
            const savedPlans = localStorage.getItem('dowPlans');
            if (savedPlans) {
                plans = JSON.parse(savedPlans);
            }
            updatePlanList();
            selectPlan(0);
        }
        
        // Fungsi untuk save plans ke localStorage
        function savePlans() {
            localStorage.setItem('dowPlans', JSON.stringify(plans));
        }
        
        // Fungsi untuk update daftar plan
        function updatePlanList() {
            const plansList = document.getElementById('plansList');
            let html = '';
            
            plans.forEach((plan, index) => {
                const isActive = index === currentPlanIndex ? 'active' : '';
                html += `
                    <div class="plan-item ${isActive}" onclick="selectPlan(${index})">
                        ${plan.name} ${plan.heroes.length > 0 ? `(${plan.heroes.length} heroes)` : ''}
                    </div>
                `;
            });
            
            plansList.innerHTML = html;
        }
        
        // Fungsi untuk select plan
        function selectPlan(index) {
            currentPlanIndex = index;
            updatePlanList();
            
            const currentPlan = plans[index];
            document.getElementById('currentPlanTitle').textContent = currentPlan.name;
            
            // Update plan details
            const planHeroesDiv = document.getElementById('planHeroes');
            if (currentPlan.heroes.length === 0) {
                planHeroesDiv.innerHTML = '<p class="text-white-50">No heroes saved in this plan yet.</p>';
            } else {
                let heroesHtml = '<p class="text-white mb-2">Saved Heroes:</p><div class="d-flex flex-wrap gap-2">';
                currentPlan.heroes.forEach(hero => {
                    heroesHtml += `<span class="badge bg-warning text-dark">${hero}</span>`;
                });
                heroesHtml += '</div>';
                planHeroesDiv.innerHTML = heroesHtml;
            }
            
            // Show plan heroes display if there are heroes
            const displayDiv = document.getElementById('planHeroesDisplay');
            const imagesDiv = document.getElementById('planHeroesImages');
            
            if (currentPlan.heroes.length > 0) {
                displayDiv.style.display = 'block';
                imagesDiv.innerHTML = '';
                
                // Create hero containers for each saved hero
                currentPlan.heroes.forEach(heroName => {
                    const heroValue = heroName.toLowerCase().replace(/ /g, '-').replace("'", "");
                    const heroContainer = `
                        <div class="hero-container">
                            <h4 class="text-white text-center mb-3">${heroName}</h4>
                            <div class="text-center">
                                <img class="rounded images" src="./assets/img/${heroValue}_1.png" alt="${heroName} build 1" onerror="this.src='./assets/placeholder.png'">
                                <img class="rounded images" src="./assets/img/${heroValue}_2.png" alt="${heroName} build 2" onerror="this.src='./assets/placeholder.png'">
                            </div>
                        </div>
                    `;
                    imagesDiv.innerHTML += heroContainer;
                });
            } else {
                displayDiv.style.display = 'none';
            }
        }
        
        // Fungsi untuk menambah plan baru
        function addNewPlan() {
            const newPlanNumber = plans.length + 1;
            plans.push({
                name: `Plan ${newPlanNumber}`,
                heroes: []
            });
            savePlans();
            updatePlanList();
            selectPlan(plans.length - 1);
        }
        
        // Fungsi untuk menyimpan seleksi saat ini ke plan
        function saveCurrentSelection() {
            const selectedHeroes = [];
            $("#heroMultiSelect option:selected").each(function() {
                selectedHeroes.push($(this).text());
            });
            
            if (selectedHeroes.length === 0) {
                alert("Please select some heroes first!");
                return;
            }
            
            plans[currentPlanIndex].heroes = selectedHeroes;
            savePlans();
            selectPlan(currentPlanIndex); // Refresh display
            
            alert(`Saved ${selectedHeroes.length} heroes to ${plans[currentPlanIndex].name}`);
        }
        
        // Fungsi untuk menghapus semua hero dari plan saat ini
        function clearPlan() {
            if (confirm("Are you sure you want to clear all heroes from this plan?")) {
                plans[currentPlanIndex].heroes = [];
                savePlans();
                selectPlan(currentPlanIndex); // Refresh display
                alert("Plan cleared!");
            }
        }
        
        // Optional: Fungsi untuk menghapus semua komentar (untuk admin/owner)
        function clearAllComments() {
            if (confirm("Are you sure you want to delete all comments? This action cannot be undone.")) {
                localStorage.removeItem('dowComments');
                loadComments();
                alert("All comments have been deleted.");
            }
        }
    </script>
</body>
</html>
